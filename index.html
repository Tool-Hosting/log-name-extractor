<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Extract Player Names from Logs</title>
<style>
  body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; margin: 24px; background:#0b1020; color:#e8ecf1; }
  h1 { font-size: 1.1rem; margin: 0 0 10px; color:#cfe3ff; }
  .wrap { display:grid; gap:12px; max-width: 900px; }
  textarea, pre { width:100%; min-height: 260px; padding:12px; border-radius:12px; border:1px solid #2a3657; background:#0f1730; color:#e8ecf1; }
  pre { min-height: 180px; white-space: pre-wrap; }
  .row { display:flex; gap:8px; flex-wrap: wrap; }
  button { padding:10px 14px; border-radius:10px; border:1px solid #2a3657; background:#1a2750; color:#e8ecf1; cursor:pointer; }
  button:hover { background:#213062; }
  .muted { color:#a9b6d6; font-size:.9rem; }
</style>
</head>
<body>
  <div class="wrap">
    <h1>Paste logs below → click “Extract”</h1>
    <textarea id="in" placeholder="Paste your log lines here..."></textarea>
    <div class="row">
      <button id="extract">Extract</button>
      <button id="copy">Copy Output</button>
      <span id="count" class="muted"></span>
    </div>
    <pre id="out" placeholder="Names will appear here..."></pre>
    <div class="muted">Looks for <code>name='...'</code> or <code>name="..."</code> in each line. Handles Unicode and emoji.</div>
  </div>

<script>
(function () {
  const input = document.getElementById('in');
  const out = document.getElementById('out');
  const count = document.getElementById('count');
  const rx = /name=(['"])(.*?)\1/gu; // capture content between ' or ", Unicode-safe

  function extract() {
    const text = input.value || "";
    const names = [];
    // Scan each line; if multiple name= occur, capture all
    for (const line of text.split(/\r?\n/)) {
      if (!line.trim()) continue;
      let m;
      rx.lastIndex = 0;
      while ((m = rx.exec(line)) !== null) {
        names.push(m[2]);
      }
    }
    // If you want unique names only, uncomment next line:
    // const unique = [...new Set(names)];
    const result = names.join("\n");
    out.textContent = result;
    count.textContent = names.length ? `Found ${names.length} name(s).` : 'No names found.';
  }

  document.getElementById('extract').addEventListener('click', extract);

  document.getElementById('copy').addEventListener('click', async () => {
    const text = out.textContent || "";
    try {
      await navigator.clipboard.writeText(text);
      const orig = event.target.textContent;
      event.target.textContent = 'Copied!';
      setTimeout(() => (event.target.textContent = orig), 900);
    } catch {
      // Fallback: select text so user can Ctrl+C
      const range = document.createRange();
      range.selectNodeContents(out);
      const sel = window.getSelection();
      sel.removeAllRanges();
      sel.addRange(range);
      alert('Output selected—press Ctrl/Cmd+C to copy.');
    }
  });
})();
</script>
</body>
</html>
